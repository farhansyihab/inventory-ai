Session 3.1 Dashboard Test Log - Sab 27 Sep 2025 18:39:09 WIB
===========================================
Setting up dashboard test data...
Dashboard test data setup completed.
[2025-09-27 18:39:10] Starting complete unit test suite for Session 3.1
[2025-09-27 18:39:10] Starting model tests: tests/Unit/Model/DashboardMetricsTest.php
PHPUnit 9.6.27 by Sebastian Bergmann and contributors.

Runtime:       PHP 8.4.12
Configuration: /var/www/html/inventory-ai/tests/phpunit.xml
Random Seed:   1758973150
Warning:       No code coverage driver available

Dashboard Metrics (Tests\Unit\Model\DashboardMetrics)
 ✔ Initialization [0.12 ms]
 ✔ To array [0.13 ms]
 ✔ Json serialize [2.01 ms]
 ✔ Is valid [0.04 ms]
 ✔ Get summary [0.13 ms]
 ✔ Setters [0.03 ms]
 ✔ Empty summary [0.03 ms]
 ✔ Has critical alerts [0.14 ms]
 ✔ Get alert count [0.03 ms]

Time: 00:00.007, Memory: 6.00 MB

OK (9 tests, 33 assertions)
[2025-09-27 18:39:10] Starting service tests: tests/Unit/Service/DashboardServiceTest.php
PHPUnit 9.6.27 by Sebastian Bergmann and contributors.

Runtime:       PHP 8.4.12
Configuration: /var/www/html/inventory-ai/tests/phpunit.xml
Random Seed:   1758973150
Warning:       No code coverage driver available

Dashboard Service (Tests\Unit\Service\DashboardService)
 ✔ Get dashboard metrics success [0.18 ms]
 ✔ Get dashboard metrics with force refresh [9.32 ms]
 ✔ Get dashboard metrics with service failure [0.35 ms]
 ✔ Cache management [0.16 ms]
 ✔ Alerts generation [0.59 ms]
 ✔ Fallback metrics [0.27 ms]

Time: 00:00.015, Memory: 6.00 MB

OK (6 tests, 20 assertions)
[2025-09-27 18:39:10] Starting metrics calculator tests: tests/Unit/Service/Metrics/MetricsCalculatorTest.php
PHPUnit 9.6.27 by Sebastian Bergmann and contributors.

Runtime:       PHP 8.4.12
Configuration: /var/www/html/inventory-ai/tests/phpunit.xml
Random Seed:   1758973150
Warning:       No code coverage driver available

Metrics Calculator (Tests\Unit\Service\Metrics\MetricsCalculator)
 ✔ Calculate health status [0.03 ms]
 ✔ Calculate database health [1.17 ms]
 ✔ Calculate cache efficiency [0.09 ms]
 ✔ Determine trend [0.05 ms]
 ✔ Calculate change percentage [0.04 ms]
 ✔ Calculate moving average [0.04 ms]
 ✔ Calculate success rate [3.91 ms]
 ✔ Calculate average confidence [0.05 ms]

Time: 00:00.013, Memory: 6.00 MB

OK (8 tests, 29 assertions)
[2025-09-27 18:39:10] Starting metrics test: tests/Unit/Service/Metrics/InventoryMetricsTest.php
PHPUnit 9.6.27 by Sebastian Bergmann and contributors.

Runtime:       PHP 8.4.12
Configuration: /var/www/html/inventory-ai/tests/phpunit.xml
Random Seed:   1758973150
Warning:       No code coverage driver available

Inventory Metrics (Tests\Unit\Service\Metrics\InventoryMetrics)
 ✘ Inventory metrics creation [0.03 ms]
   │
   │ TypeError: App\Service\InventoryService::__construct(): Argument #1 ($inventoryRepo) must be of type App\Repository\IInventoryRepository, class@anonymous given, called in /var/www/html/inventory-ai/tests/Unit/Service/Mocks/MockInventoryService.php on line 19
   │
   │ /var/www/html/inventory-ai/src/Service/InventoryService.php:17
   │ /var/www/html/inventory-ai/tests/Unit/Service/Mocks/MockInventoryService.php:19
   │ /var/www/html/inventory-ai/tests/Unit/Service/Metrics/InventoryMetricsTest.php:19
   │

 ✘ Get inventory metrics returns array [2.35 ms]
   │
   │ TypeError: App\Service\InventoryService::__construct(): Argument #1 ($inventoryRepo) must be of type App\Repository\IInventoryRepository, class@anonymous given, called in /var/www/html/inventory-ai/tests/Unit/Service/Mocks/MockInventoryService.php on line 19
   │
   │ /var/www/html/inventory-ai/src/Service/InventoryService.php:17
   │ /var/www/html/inventory-ai/tests/Unit/Service/Mocks/MockInventoryService.php:19
   │ /var/www/html/inventory-ai/tests/Unit/Service/Metrics/InventoryMetricsTest.php:19
   │

 ✘ Get inventory alerts returns array [0.07 ms]
   │
   │ TypeError: App\Service\InventoryService::__construct(): Argument #1 ($inventoryRepo) must be of type App\Repository\IInventoryRepository, class@anonymous given, called in /var/www/html/inventory-ai/tests/Unit/Service/Mocks/MockInventoryService.php on line 19
   │
   │ /var/www/html/inventory-ai/src/Service/InventoryService.php:17
   │ /var/www/html/inventory-ai/tests/Unit/Service/Mocks/MockInventoryService.php:19
   │ /var/www/html/inventory-ai/tests/Unit/Service/Metrics/InventoryMetricsTest.php:19
   │

 ✘ Inventory metrics structure [0.03 ms]
   │
   │ TypeError: App\Service\InventoryService::__construct(): Argument #1 ($inventoryRepo) must be of type App\Repository\IInventoryRepository, class@anonymous given, called in /var/www/html/inventory-ai/tests/Unit/Service/Mocks/MockInventoryService.php on line 19
   │
   │ /var/www/html/inventory-ai/src/Service/InventoryService.php:17
   │ /var/www/html/inventory-ai/tests/Unit/Service/Mocks/MockInventoryService.php:19
   │ /var/www/html/inventory-ai/tests/Unit/Service/Metrics/InventoryMetricsTest.php:19
   │

 ✘ Inventory metrics with detailed true [0.03 ms]
   │
   │ TypeError: App\Service\InventoryService::__construct(): Argument #1 ($inventoryRepo) must be of type App\Repository\IInventoryRepository, class@anonymous given, called in /var/www/html/inventory-ai/tests/Unit/Service/Mocks/MockInventoryService.php on line 19
   │
   │ /var/www/html/inventory-ai/src/Service/InventoryService.php:17
   │ /var/www/html/inventory-ai/tests/Unit/Service/Mocks/MockInventoryService.php:19
   │ /var/www/html/inventory-ai/tests/Unit/Service/Metrics/InventoryMetricsTest.php:19
   │

 ✘ Inventory metrics values [0.05 ms]
   │
   │ TypeError: App\Service\InventoryService::__construct(): Argument #1 ($inventoryRepo) must be of type App\Repository\IInventoryRepository, class@anonymous given, called in /var/www/html/inventory-ai/tests/Unit/Service/Mocks/MockInventoryService.php on line 19
   │
   │ /var/www/html/inventory-ai/src/Service/InventoryService.php:17
   │ /var/www/html/inventory-ai/tests/Unit/Service/Mocks/MockInventoryService.php:19
   │ /var/www/html/inventory-ai/tests/Unit/Service/Metrics/InventoryMetricsTest.php:19
   │

Time: 00:00.012, Memory: 6.00 MB


ERRORS!
Tests: 6, Assertions: 0, Errors: 6.
[2025-09-27 18:39:10] Starting metrics test: tests/Unit/Service/Metrics/UserMetricsTest.php
PHPUnit 9.6.27 by Sebastian Bergmann and contributors.

Runtime:       PHP 8.4.12
Configuration: /var/www/html/inventory-ai/tests/phpunit.xml
Random Seed:   1758973150
Warning:       No code coverage driver available

User Metrics (Tests\Unit\Service\Metrics\UserMetrics)
 ✘ User metrics creation [0.03 ms]
   │
   │ TypeError: App\Service\UserService::__construct(): Argument #1 ($userRepository) must be of type App\Repository\UserRepository, class@anonymous given, called in /var/www/html/inventory-ai/tests/Unit/Service/Mocks/MockUserService.php on line 19
   │
   │ /var/www/html/inventory-ai/src/Service/UserService.php:17
   │ /var/www/html/inventory-ai/tests/Unit/Service/Mocks/MockUserService.php:19
   │ /var/www/html/inventory-ai/tests/Unit/Service/Metrics/UserMetricsTest.php:19
   │

 ✘ Get user metrics returns array [2.28 ms]
   │
   │ TypeError: App\Service\UserService::__construct(): Argument #1 ($userRepository) must be of type App\Repository\UserRepository, class@anonymous given, called in /var/www/html/inventory-ai/tests/Unit/Service/Mocks/MockUserService.php on line 19
   │
   │ /var/www/html/inventory-ai/src/Service/UserService.php:17
   │ /var/www/html/inventory-ai/tests/Unit/Service/Mocks/MockUserService.php:19
   │ /var/www/html/inventory-ai/tests/Unit/Service/Metrics/UserMetricsTest.php:19
   │

 ✘ Get user alerts returns array [0.04 ms]
   │
   │ TypeError: App\Service\UserService::__construct(): Argument #1 ($userRepository) must be of type App\Repository\UserRepository, class@anonymous given, called in /var/www/html/inventory-ai/tests/Unit/Service/Mocks/MockUserService.php on line 19
   │
   │ /var/www/html/inventory-ai/src/Service/UserService.php:17
   │ /var/www/html/inventory-ai/tests/Unit/Service/Mocks/MockUserService.php:19
   │ /var/www/html/inventory-ai/tests/Unit/Service/Metrics/UserMetricsTest.php:19
   │

 ✘ User metrics structure [0.03 ms]
   │
   │ TypeError: App\Service\UserService::__construct(): Argument #1 ($userRepository) must be of type App\Repository\UserRepository, class@anonymous given, called in /var/www/html/inventory-ai/tests/Unit/Service/Mocks/MockUserService.php on line 19
   │
   │ /var/www/html/inventory-ai/src/Service/UserService.php:17
   │ /var/www/html/inventory-ai/tests/Unit/Service/Mocks/MockUserService.php:19
   │ /var/www/html/inventory-ai/tests/Unit/Service/Metrics/UserMetricsTest.php:19
   │

 ✘ User metrics values [0.06 ms]
   │
   │ TypeError: App\Service\UserService::__construct(): Argument #1 ($userRepository) must be of type App\Repository\UserRepository, class@anonymous given, called in /var/www/html/inventory-ai/tests/Unit/Service/Mocks/MockUserService.php on line 19
   │
   │ /var/www/html/inventory-ai/src/Service/UserService.php:17
   │ /var/www/html/inventory-ai/tests/Unit/Service/Mocks/MockUserService.php:19
   │ /var/www/html/inventory-ai/tests/Unit/Service/Metrics/UserMetricsTest.php:19
   │

Time: 00:00.011, Memory: 6.00 MB


ERRORS!
Tests: 5, Assertions: 0, Errors: 5.
[2025-09-27 18:39:10] Starting metrics test: tests/Unit/Service/Metrics/AIMetricsTest.php
PHPUnit 9.6.27 by Sebastian Bergmann and contributors.

Runtime:       PHP 8.4.12
Configuration: /var/www/html/inventory-ai/tests/phpunit.xml
Random Seed:   1758973150
Warning:       No code coverage driver available

AIMetrics (Tests\Unit\Service\Metrics\AIMetrics)
 ✘ A i metrics creation [0.03 ms]
   │
   │ TypeError: App\Service\AIService::__construct(): Argument #1 ($logger) must be of type App\Utility\Logger, class@anonymous given, called in /var/www/html/inventory-ai/tests/Unit/Service/Mocks/MockAIService.php on line 17
   │
   │ /var/www/html/inventory-ai/src/Service/AIService.php:19
   │ /var/www/html/inventory-ai/tests/Unit/Service/Mocks/MockAIService.php:17
   │ /var/www/html/inventory-ai/tests/Unit/Service/Metrics/AIMetricsTest.php:19
   │

 ✘ Get a i metrics returns array [2.97 ms]
   │
   │ TypeError: App\Service\AIService::__construct(): Argument #1 ($logger) must be of type App\Utility\Logger, class@anonymous given, called in /var/www/html/inventory-ai/tests/Unit/Service/Mocks/MockAIService.php on line 17
   │
   │ /var/www/html/inventory-ai/src/Service/AIService.php:19
   │ /var/www/html/inventory-ai/tests/Unit/Service/Mocks/MockAIService.php:17
   │ /var/www/html/inventory-ai/tests/Unit/Service/Metrics/AIMetricsTest.php:19
   │

 ✘ Get a i alerts returns array [0.06 ms]
   │
   │ TypeError: App\Service\AIService::__construct(): Argument #1 ($logger) must be of type App\Utility\Logger, class@anonymous given, called in /var/www/html/inventory-ai/tests/Unit/Service/Mocks/MockAIService.php on line 17
   │
   │ /var/www/html/inventory-ai/src/Service/AIService.php:19
   │ /var/www/html/inventory-ai/tests/Unit/Service/Mocks/MockAIService.php:17
   │ /var/www/html/inventory-ai/tests/Unit/Service/Metrics/AIMetricsTest.php:19
   │

 ✘ A i metrics structure [0.03 ms]
   │
   │ TypeError: App\Service\AIService::__construct(): Argument #1 ($logger) must be of type App\Utility\Logger, class@anonymous given, called in /var/www/html/inventory-ai/tests/Unit/Service/Mocks/MockAIService.php on line 17
   │
   │ /var/www/html/inventory-ai/src/Service/AIService.php:19
   │ /var/www/html/inventory-ai/tests/Unit/Service/Mocks/MockAIService.php:17
   │ /var/www/html/inventory-ai/tests/Unit/Service/Metrics/AIMetricsTest.php:19
   │

 ✘ A i metrics with different periods [0.03 ms]
   │
   │ TypeError: App\Service\AIService::__construct(): Argument #1 ($logger) must be of type App\Utility\Logger, class@anonymous given, called in /var/www/html/inventory-ai/tests/Unit/Service/Mocks/MockAIService.php on line 17
   │
   │ /var/www/html/inventory-ai/src/Service/AIService.php:19
   │ /var/www/html/inventory-ai/tests/Unit/Service/Mocks/MockAIService.php:17
   │ /var/www/html/inventory-ai/tests/Unit/Service/Metrics/AIMetricsTest.php:19
   │

 ✘ A i metrics values [0.03 ms]
   │
   │ TypeError: App\Service\AIService::__construct(): Argument #1 ($logger) must be of type App\Utility\Logger, class@anonymous given, called in /var/www/html/inventory-ai/tests/Unit/Service/Mocks/MockAIService.php on line 17
   │
   │ /var/www/html/inventory-ai/src/Service/AIService.php:19
   │ /var/www/html/inventory-ai/tests/Unit/Service/Mocks/MockAIService.php:17
   │ /var/www/html/inventory-ai/tests/Unit/Service/Metrics/AIMetricsTest.php:19
   │

Time: 00:00.012, Memory: 6.00 MB


ERRORS!
Tests: 6, Assertions: 0, Errors: 6.
[2025-09-27 18:39:10] Starting metrics test: tests/Unit/Service/Metrics/SystemMetricsTest.php
PHPUnit 9.6.27 by Sebastian Bergmann and contributors.

Runtime:       PHP 8.4.12
Configuration: /var/www/html/inventory-ai/tests/phpunit.xml
Random Seed:   1758973150
Warning:       No code coverage driver available

System Metrics (Tests\Unit\Service\Metrics\SystemMetrics)
 ✔ System metrics creation [0.11 ms]
 ✔ Get system metrics returns array [0.18 ms]
 ✔ Get system alerts returns array [6.72 ms]
 ✔ System metrics structure [0.06 ms]

Time: 00:00.011, Memory: 6.00 MB

OK (4 tests, 8 assertions)
